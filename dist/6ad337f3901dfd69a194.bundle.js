!function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){},function(e,t,o){"use strict";o.r(t);o(0);const r={numerosTimer:document.querySelector(".timer"),webAppContainer:document.querySelector(".web_app_container"),listaTiempos:document.querySelector(".tabla_tiempos_dinamic"),ao5Container:document.querySelector(".main_a05"),scramble:document.querySelector(".scramble"),resetButton:document.querySelector(".reset_button"),deleteIcon:document.querySelector(".delete_icon")},i=()=>{const e=document.createElement("i");return e.className="fa fa-close",e};class s{constructor(e){this.state=e}cogerTiempo(){return(new Date).getTime()}formatearNumero(e){const t=(e/1e3).toString().split("."),o=t[0],r=`.${t[1].slice(0,2)}`;if(o>=60){let e,t;return t=`${Math.floor(o/60)}:`,e=`${o%60}`,`${`${t}${e}`}${r}`}return`${o}${r}`}pararTimer(){this.state.tiempoFinal=this.cogerTiempo();const e=this.state.tiempoFinal-this.state.tiempoInicial,t=this.formatearNumero(e);return r.numerosTimer.style.color="#e4e4e4",r.webAppContainer.style.display="grid",t}}class a{constructor(){}hacerScramble(){const e=["R","U","L","B","F","D","R'","U'","L'","B'","F'","D'","R2","U2","L2","B2","F2","D2"];let t=[],o=Array.prototype.slice.call(e);for(let r=0;r<21;r++){const r=Math.floor(Math.random()*o.length);t.push(o[r]);const i=o[r];let s=[];const a=[];for(const t of e)a.push(t[0]);for(const e of o)if(e[0]===i[0])for(let t=0;t<21;t++)s.push(a.indexOf(e[0],t));let n=[];for(const e of s)-1!==e&&!1===n.includes(e)&&n.push(e);o=Array.prototype.slice.call(e),n.forEach((e,t)=>{0===t?o.splice(e,1):1===t?o.splice(e-1,1):2===t&&o.splice(e-2,1)})}return t}}const n={};let l;n.estado=[],n.listaTiempos=new class{constructor(e){this.lista=[],this.state=e}formatearSegundosMinutos(e){if(e>=60){let t=this.comprovarRedondeoDecimas(`${Math.floor(e/60)}:${Math.round(e%60*100)/100}`);return t.includes(":")&&2!==t.split(":")[1].split("").slice(t.indexOf(":")+1,t.indexOf(".")).length&&(t=t.slice(0,t.indexOf(":")+1)+"0"+t.slice(t.indexOf(":")+1,t.split("").length)),t}return this.comprovarRedondeoDecimas(`${Math.round(100*e)/100}`)}comprovarRedondeoDecimas(e){return e.includes(".")?(2!==e.split(".")[1].split("").length&&(e+="0"),2!==e.split(".")[0].split("").length&&(e="0"+e)):e+=".00",e}subirAlState(e){if(e.includes(":")){const t=e.split(":"),o=parseInt(60*t[0])+parseFloat(t[1]);this.lista.unshift(o),this.ponerLocalStorage()}else this.lista.unshift(parseFloat(e)),this.ponerLocalStorage()}quitarDelState(e){this.lista.splice(e,1),this.ponerLocalStorage()}hacerMediaArray(e){const t=e.reduce((e,t)=>e+t,0);return this.formatearSegundosMinutos(t/e.length)}mediaA05(e){if(e.length>=5){const t=e.slice(0,5),o=Math.min(...t),r=Math.max(...t),i=t.indexOf(r);t.splice(i,1);const s=t.indexOf(o);return t.splice(s,1),this.hacerMediaArray(t)}if(e.length>0)return this.hacerMediaArray(e)}mediaAll(e){return this.hacerMediaArray(e)}resetLista(){this.lista=[]}ponerLocalStorage(){localStorage.setItem("tiempos",JSON.stringify(this.lista))}cogerLocalStorage(){const e=JSON.parse(localStorage.getItem("tiempos"));e&&(this.lista=e.reverse()),this.state.localStorage=!0}resetLocalStorage(){localStorage.clear()}}(n),n.localStorage=!1,n.estado.active=!1,n.estado.ready=!1,n.estado.hacerTimeOut=!0;const c=()=>{r.numerosTimer.style.color="#e4e4e4",clearTimeout(n.estado.controlTimeOut),n.estado.ready=!1,n.estado.hacerTimeOut=!0},d=()=>{!1===n.estado.active?(l=new s(n),n.estado.vueltas=!0,n.tiempoInicial=l.cogerTiempo(),r.webAppContainer.style.display="none",n.estado.active=!0):u()},u=()=>{n.estado.active=!1,window.removeEventListener("keyup",d)},m=()=>{const e=l.pararTimer();n.listaTiempos.subirAlState(e),f(e),h(),n.estado.vueltas=!1};let p;const f=e=>{const t=n.listaTiempos.lista.length;(e=>{r.numerosTimer.textContent=e})(e),p=!0===n.localStorage?[...n.listaTiempos.lista].slice(0,n.listaTiempos.lista.indexOf(e,t-n.lengthDelStorage)+1).reverse():[...n.listaTiempos.lista];const o=n.listaTiempos.mediaA05(p),s=n.listaTiempos.mediaAll(p);var a;((e,t,o)=>{const s=r.listaTiempos.insertRow(0),a=s.insertCell(0),n=s.insertCell(1),l=s.insertCell(2),c=s.insertCell(3);a.textContent=e,n.textContent=t,l.textContent=o,c.className="delete_icon",c.appendChild(i())})(n.listaTiempos.formatearSegundosMinutos(e),o,s),a=o,r.ao5Container.textContent=`ao5: ${a}`},h=()=>{(e=>{r.scramble.textContent=e.join(" ")})((new a).hacerScramble())};window.addEventListener("keydown",()=>{if(32===event.keyCode&&!1===n.estado.active)r.numerosTimer.style.color="#791422",!0===n.estado.hacerTimeOut&&(n.estado.controlTimeOut=setTimeout(()=>n.estado.ready=!0,500),n.estado.hacerTimeOut=!1),window.addEventListener("keyup",c),!0===n.estado.ready&&(window.addEventListener("keyup",d),r.numerosTimer.style.color="#045757");else if(32===event.keyCode&&!0===n.estado.active)for(;!0===n.estado.vueltas;)m();else!0===n.estado.active&&(m(),u())}),window.addEventListener("load",h),r.resetButton.addEventListener("click",()=>{(()=>{for(;r.listaTiempos.firstChild;)r.listaTiempos.removeChild(r.listaTiempos.firstChild)})(),n.listaTiempos.resetLista(),n.listaTiempos.resetLocalStorage()}),r.listaTiempos.addEventListener("click",e=>{if(e.target.parentElement.matches(".delete_icon")){const t=e.target.parentElement.parentElement,o=[...t.parentNode.children].indexOf(t);n.listaTiempos.quitarDelState(o),t.parentElement.removeChild(t)}}),window.addEventListener("load",()=>{n.listaTiempos.cogerLocalStorage(),n.lengthDelStorage=n.listaTiempos.lista.length,n.listaTiempos.lista.forEach(e=>{f(e),n.lengthDelStorage--}),n.localStorage=!1})}]);