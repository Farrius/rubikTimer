!function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){},function(e,t,o){"use strict";o.r(t);o(0);const r={numerosTimer:document.querySelector(".timer"),webAppContainer:document.querySelector(".web_app_container"),listaTiempos:document.querySelector(".tabla_tiempos_dinamic"),ao5Container:document.querySelector(".main_a05"),scramble:document.querySelector(".scramble"),resetButton:document.querySelector(".reset_button")};class i{constructor(e){this.state=e}cogerTiempo(){return(new Date).getTime()}formatearNumero(e){const t=(e/1e3).toString().split("."),o=t[0],r=`.${t[1].slice(0,2)}`;if(o>=60){let e,t;return t=`${Math.floor(o/60)}:`,e=`${o%60}`,`${`${t}${e}`}${r}`}return`${o}${r}`}pararTimer(){this.state.tiempoFinal=this.cogerTiempo();const e=this.state.tiempoFinal-this.state.tiempoInicial,t=this.formatearNumero(e);return r.numerosTimer.style.color="#e4e4e4",r.webAppContainer.style.display="grid",t}}class a{constructor(){}hacerScramble(){const e=["R","U","L","B","F","D","R'","U'","L'","B'","F'","D'","R2","U2","L2","B2","F2","D2"];let t=[],o=Array.prototype.slice.call(e);for(let r=0;r<21;r++){const r=Math.floor(Math.random()*o.length);t.push(o[r]);const i=o[r];let a=[];const s=[];for(const t of e)s.push(t[0]);for(const e of o)if(e[0]===i[0])for(let t=0;t<21;t++)a.push(s.indexOf(e[0],t));let n=[];for(const e of a)-1!==e&&!1===n.includes(e)&&n.push(e);o=Array.prototype.slice.call(e),n.forEach((e,t)=>{0===t?o.splice(e,1):1===t?o.splice(e-1,1):2===t&&o.splice(e-2,1)})}return t}}const s={};let n;s.estado=[],s.listaTiempos=new class{constructor(){this.lista=[]}formatearSegundosMinutos(e){return e>60?`${Math.floor(e/60)}:${Math.round(e%60*100)/100}`:`${Math.round(100*e)/100}`}subirAlState(e){if(e.includes(":")){const t=e.split(":"),o=parseInt(60*t[0])+parseFloat(t[1]);this.lista.unshift(o),this.ponerLocalStorage()}else this.lista.unshift(parseFloat(e)),this.ponerLocalStorage()}quitarDelState(e){this.lista.splice(e,1),this.ponerLocalStorage()}hacerMediaArray(e){const t=e.reduce((e,t)=>e+t,0);return this.formatearSegundosMinutos(t/e.length)}mediaA05(e){if(this.lista.length>=5){const t=e.slice(0,5),o=Math.min(...t),r=Math.max(...t),i=t.indexOf(r);t.splice(i,1);const a=t.indexOf(o);return t.splice(a,1),this.hacerMediaArray(t)}if(this.lista.length>0)return this.hacerMediaArray(this.lista)}mediaAll(e){return this.hacerMediaArray(e)}resetLista(){this.lista=[]}ponerLocalStorage(){localStorage.setItem("tiempos",JSON.stringify(this.lista))}cogerLocalStorage(){const e=JSON.parse(localStorage.getItem("tiempos"));e&&(this.lista=e)}resetLocalStorage(){localStorage.clear()}},s.estado.active=!1,s.estado.ready=!1,s.estado.hacerTimeOut=!0;const l=()=>{clearTimeout(s.estado.controlTimeOut),s.estado.ready=!1,s.estado.hacerTimeOut=!0},c=()=>{!1===s.estado.active?(n=new i(s),s.estado.vueltas=!0,s.tiempoInicial=n.cogerTiempo(),r.webAppContainer.style.display="none",s.estado.active=!0):d()},d=()=>{s.estado.active=!1,window.removeEventListener("keyup",c)},u=()=>{const e=n.pararTimer();s.listaTiempos.subirAlState(e),m(e),p(),s.estado.vueltas=!1},m=e=>{(e=>{r.numerosTimer.textContent=e})(e);const t=s.listaTiempos.mediaA05(s.listaTiempos.lista);var o;((e,t,o)=>{const i=r.listaTiempos.insertRow(0),a=i.insertCell(0),s=i.insertCell(1),n=i.insertCell(2);a.textContent=e,s.textContent=t,n.textContent=o,i.classList.add("row")})(e,t,s.listaTiempos.mediaAll(s.listaTiempos.lista)),o=t,r.ao5Container.textContent=`ao5: ${o}`},p=()=>{(e=>{r.scramble.textContent=e.join(" ")})((new a).hacerScramble())};window.addEventListener("keydown",()=>{if(32===event.keyCode&&!1===s.estado.active)!0===s.estado.hacerTimeOut&&(s.estado.controlTimeOut=setTimeout(()=>s.estado.ready=!0,1e3),s.estado.hacerTimeOut=!1),window.addEventListener("keyup",l),!0===s.estado.ready&&(window.addEventListener("keyup",c),r.numerosTimer.style.color="#045757");else if(32===event.keyCode&&!0===s.estado.active)for(;!0===s.estado.vueltas;)u();else!0===s.estado.active&&(u(),d())}),window.addEventListener("load",p),r.resetButton.addEventListener("click",()=>{(()=>{for(;r.listaTiempos.firstChild;)r.listaTiempos.removeChild(r.listaTiempos.firstChild)})(),s.listaTiempos.resetLista(),s.listaTiempos.resetLocalStorage()}),r.listaTiempos.addEventListener("click",e=>{if(e.target.parentElement.matches(".row")){const t=e.target.parentElement,o=[...t.parentNode.children].indexOf(t);s.listaTiempos.quitarDelState(o),t.parentElement.removeChild(t)}}),window.addEventListener("load",()=>{s.listaTiempos.cogerLocalStorage(),s.listaTiempos.lista.reverse().forEach(e=>{m(e)})})}]);