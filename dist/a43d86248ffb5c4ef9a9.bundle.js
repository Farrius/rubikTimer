!function(e){var t={};function o(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){},function(e,t,o){"use strict";o.r(t);o(0);const r={numerosTimer:document.querySelector(".timer"),webAppContainer:document.querySelector(".web_app_container"),listaTiempos:document.querySelector(".tabla_tiempos_dinamic"),ao5Container:document.querySelector(".main_a05"),scramble:document.querySelector(".scramble"),resetButton:document.querySelector(".reset_button")};class s{constructor(e){this.state=e}cogerTiempo(){return(new Date).getTime()}formatearNumero(e){const t=(e/1e3).toString().split("."),o=t[0],r=`.${t[1].slice(0,2)}`;if(o>=60){let e,t;return`${`${t=`${Math.floor(o/60)}:`}${e=`${o%60}`}`}${r}`}return`${o}${r}`}pararTimer(){this.state.tiempoFinal=this.cogerTiempo();const e=this.state.tiempoFinal-this.state.tiempoInicial,t=this.formatearNumero(e);return r.numerosTimer.style.color="#e4e4e4",r.webAppContainer.style.display="grid",this.state.estado.active=!1,t}}class i{constructor(){}hacerScramble(){const e=["R","U","L","B","F","D","R'","U'","L'","B'","F'","D'","R2","U2","L2","B2","F2","D2"];let t=[],o=Array.prototype.slice.call(e);for(let r=0;r<21;r++){const r=Math.floor(Math.random()*o.length);t.push(o[r]);const s=o[r];let i=[];const a=[];for(const t of e)a.push(t[0]);for(const e of o)if(e[0]===s[0])for(let t=0;t<21;t++)i.push(a.indexOf(e[0],t));let n=[];for(const e of i)-1!==e&&!1===n.includes(e)&&n.push(e);o=Array.prototype.slice.call(e),n.forEach((e,t)=>{0===t?o.splice(e,1):1===t?o.splice(e-1,1):2===t&&o.splice(e-2,1)})}return t}}const a={};let n;a.estado=[],a.listaTiempos=new class{constructor(){this.lista=[]}formatearSegundosMinutos(e){return e>60?`${Math.floor(e/60)}:${Math.round(e%60*100)/100}`:`${Math.round(100*e)/100}`}subirAlState(e){if(e.includes(":")){const t=e.split(":"),o=parseInt(60*t[0])+parseFloat(t[1]);this.lista.unshift(o),this.ponerLocalStorage()}else this.lista.unshift(parseFloat(e)),this.ponerLocalStorage()}quitarDelState(e){this.lista.splice(e,1),this.ponerLocalStorage()}hacerMediaArray(e){const t=e.reduce((e,t)=>e+t,0);return this.formatearSegundosMinutos(t/e.length)}mediaA05(e){if(this.lista.length>=5){const t=e.slice(0,5),o=Math.min(...t),r=Math.max(...t),s=t.indexOf(r);t.splice(s,1);const i=t.indexOf(o);return t.splice(i,1),this.hacerMediaArray(t)}if(this.lista.length>0)return this.hacerMediaArray(this.lista)}mediaAll(e){return this.hacerMediaArray(e)}resetLista(){this.lista=[]}ponerLocalStorage(){localStorage.setItem("tiempos",JSON.stringify(this.lista))}cogerLocalStorage(){const e=JSON.parse(localStorage.getItem("tiempos"));e&&(this.lista=e)}resetLocalStorage(){localStorage.clear()}},a.estado.active=!1,a.estado.start=!0;const l=()=>{const e=n.pararTimer();a.listaTiempos.subirAlState(e),c(e),d()},c=e=>{(e=>{r.numerosTimer.textContent=e})(e);const t=a.listaTiempos.mediaA05(a.listaTiempos.lista);((e,t,o)=>{const s=r.listaTiempos.insertRow(0),i=s.insertCell(0),a=s.insertCell(1),n=s.insertCell(2);i.textContent=e,a.textContent=t,n.textContent=o,s.classList.add("row")})(e,t,a.listaTiempos.mediaAll(a.listaTiempos.lista)),(e=>{r.ao5Container.textContent=`ao5: ${e}`})(t)},d=()=>{(e=>{r.scramble.textContent=e.join(" ")})((new i).hacerScramble())};window.addEventListener("keydown",()=>{32===event.keyCode&&!1===a.estado.active&&!0===a.estado.start?r.numerosTimer.style.color="#045757":32===event.keyCode&&!0===a.estado.active?(l(),a.estado.start=!1):!0===a.estado.active&&l()}),window.addEventListener("keyup",()=>{32===event.keyCode&&!1===a.estado.active&&!0===a.estado.start?(n=new s(a),a.tiempoInicial=n.cogerTiempo(),r.webAppContainer.style.display="none",a.estado.active=!0):32===event.keyCode&&!1===a.estado.start&&(a.estado.start=!0)}),window.addEventListener("load",d),r.resetButton.addEventListener("click",()=>{(()=>{for(;r.listaTiempos.firstChild;)r.listaTiempos.removeChild(r.listaTiempos.firstChild)})(),a.listaTiempos.resetLista(),a.listaTiempos.resetLocalStorage()}),r.listaTiempos.addEventListener("click",e=>{if(e.target.parentElement.matches(".row")){const t=e.target.parentElement,o=[...t.parentNode.children].indexOf(t);a.listaTiempos.quitarDelState(o),t.parentElement.removeChild(t)}}),window.addEventListener("load",()=>{a.listaTiempos.cogerLocalStorage(),a.listaTiempos.lista.reverse().forEach(e=>{c(e)})})}]);